def flutterSdkPath = (gradle.ext.has("flutterSdkPath") ? gradle.ext.flutterSdkPath : null)
if (flutterSdkPath == null) {
    flutterSdkPath = System.getenv("FLUTTER_ROOT")
}
if (flutterSdkPath == null) {
    def localPropertiesFile = new File(rootDir, "local.properties")
    if (localPropertiesFile.exists()) {
        def properties = new Properties()
        localPropertiesFile.withReader("UTF-8") { reader -> properties.load(reader) }
        flutterSdkPath = properties.getProperty("flutter.sdk")
    }
}
if (flutterSdkPath != null && !gradle.ext.has("flutterSdkPath")) {
    gradle.ext.flutterSdkPath = flutterSdkPath
}

buildscript {
    def sdkPath = (gradle.ext.has("flutterSdkPath") ? gradle.ext.flutterSdkPath : flutterSdkPath)
    repositories {
        if (sdkPath != null) {
            maven {
                url = uri("${sdkPath}/bin/cache/artifacts/engine/android")
            }
        }
        maven {
            url "https://storage.googleapis.com/download.flutter.io"
        }
        google()
        mavenCentral()
        maven { url "https://maven-central.storage-download.googleapis.com/maven2" }
    }
    dependencies {
        classpath "com.android.tools.build:gradle:8.6.0"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.20"
        classpath "com.google.gms:google-services:4.4.2"
    }
}

allprojects {
    // Repositories are defined in settings.gradle via dependencyResolutionManagement.
}
