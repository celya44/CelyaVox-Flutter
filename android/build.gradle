def flutterSdkPath = System.getenv("FLUTTER_ROOT")
if (flutterSdkPath == null) {
    def localPropertiesFile = new File(rootDir, "local.properties")
    if (localPropertiesFile.exists()) {
        def properties = new Properties()
        localPropertiesFile.withReader("UTF-8") { reader -> properties.load(reader) }
        flutterSdkPath = properties.getProperty("flutter.sdk")
    }
}

buildscript {
    repositories {
        if (flutterSdkPath != null) {
            maven {
                url = uri("${flutterSdkPath}/bin/cache/artifacts/engine/android")
                content { includeGroup("io.flutter") }
            }
        }
        maven {
            url "https://storage.googleapis.com/download.flutter.io"
            content { includeGroup("io.flutter") }
        }
        google()
        mavenCentral()
        maven { url "https://maven-central.storage-download.googleapis.com/maven2" }
    }
    dependencies {
        classpath "com.android.tools.build:gradle:8.6.0"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.20"
    }
}

allprojects {
    // Repositories are defined in settings.gradle via dependencyResolutionManagement.
}
